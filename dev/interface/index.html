<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Interface · CompetingClocks.jl Documentation</title><meta name="title" content="Interface · CompetingClocks.jl Documentation"/><meta property="og:title" content="Interface · CompetingClocks.jl Documentation"/><meta property="twitter:title" content="Interface · CompetingClocks.jl Documentation"/><meta name="description" content="Documentation for CompetingClocks.jl Documentation."/><meta property="og:description" content="Documentation for CompetingClocks.jl Documentation."/><meta property="twitter:description" content="Documentation for CompetingClocks.jl Documentation."/><meta property="og:url" content="https://adolgert.github.io/CompetingClocks.jl/interface/"/><meta property="twitter:url" content="https://adolgert.github.io/CompetingClocks.jl/interface/"/><link rel="canonical" href="https://adolgert.github.io/CompetingClocks.jl/interface/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">CompetingClocks.jl Documentation</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Guide</span><ul><li><a class="tocitem" href="../guide/">Competing Clocks</a></li><li><a class="tocitem" href="../mainloop/">Sample Main Loop</a></li><li><a class="tocitem" href="../distributions/">Non-exponential Simulation</a></li></ul></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../distrib/">Notation for Distributions</a></li><li><a class="tocitem" href="../background/">Markov Processes</a></li><li><a class="tocitem" href="../gsmp/">GSMP</a></li><li><a class="tocitem" href="../samplers/">Understanding Samplers</a></li><li><a class="tocitem" href="../hierarchical/">Hierarchical Samplers</a></li><li><a class="tocitem" href="../memory/">Transitions with Memory</a></li><li><a class="tocitem" href="../commonrandom/">Common Random Numbers</a></li><li><a class="tocitem" href="../debugging/">Debugging a Simulation that Uses CompetingClocks</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../constant_birth/">Birth-death Process</a></li><li><a class="tocitem" href="../sir/">SIR Model</a></li><li><a class="tocitem" href="../reliability/">Reliability</a></li></ul></li><li><span class="tocitem">Reference</span><ul><li class="is-active"><a class="tocitem" href>Interface</a><ul class="internal"><li><a class="tocitem" href="#Use-a-Sampler"><span>Use a Sampler</span></a></li><li><a class="tocitem" href="#Query-a-Sampler"><span>Query a Sampler</span></a></li></ul></li><li><a class="tocitem" href="../reference/">Samplers</a></li><li><a class="tocitem" href="../algorithms/">Algorithms</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Reference</a></li><li class="is-active"><a href>Interface</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Interface</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/adolgert/CompetingClocks.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/adolgert/CompetingClocks.jl/blob/main/docs/src/interface.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Interface"><a class="docs-heading-anchor" href="#Interface">Interface</a><a id="Interface-1"></a><a class="docs-heading-anchor-permalink" href="#Interface" title="Permalink"></a></h1><p>These are methods which are defined for any samplers subtyping <code>&lt;:SSA</code>, the abstract sampler type.</p><h2 id="Use-a-Sampler"><a class="docs-heading-anchor" href="#Use-a-Sampler">Use a Sampler</a><a id="Use-a-Sampler-1"></a><a class="docs-heading-anchor-permalink" href="#Use-a-Sampler" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CompetingClocks.enable!" href="#CompetingClocks.enable!"><code>CompetingClocks.enable!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">enable!(sampler, clock, distribution, enablingtime, currenttime, RNG)</code></pre><p>Tell the sampler to start a clock.</p><ul><li><code>sampler::SSA{KeyType,TimeType}</code> - The sampler to tell.</li><li><code>clock::KeyType</code> - The ID of the clock. Can be a string, integer, tuple, etc.</li><li><code>distribution::Distributions.UnivariateDistribution</code></li><li><code>enablingtime::TimeType</code> - The zero time for the clock&#39;s distribution, in absolute time. Usually equal to <code>when</code>.</li><li><code>when::TimeType</code> - The current time of the simulation.</li><li><code>rng::AbstractRNG</code> - A random number generator.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adolgert/CompetingClocks.jl/blob/f5047ffe3229e106a5dde63740a4fb205eeeec24/src/sample/interface.jl#L22-L34">source</a></section><section><div><pre><code class="language-julia hljs">enable!(dc::DirectCall, clock::T, distribution::Exponential, when, rng)</code></pre><p>Tell the <code>DirectCall</code> sampler to enable this clock. The <code>clock</code> argument is an identifier for the clock. The distribution is a univariate distribution in time. In Julia, distributions are always relative to time <code>t=0</code>, but ours start at some absolute enabling time, <span>$t_e$</span>, so we provide that here. The <code>when</code> argument is the time at which this clock is enabled, which may be later than when it was first enabled. The <code>rng</code> is a random number generator.</p><p>If a particular clock had one rate before an event and it has another rate after the event, call <code>enable!</code> to update the rate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adolgert/CompetingClocks.jl/blob/f5047ffe3229e106a5dde63740a4fb205eeeec24/src/sample/direct.jl#L53-L65">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CompetingClocks.disable!" href="#CompetingClocks.disable!"><code>CompetingClocks.disable!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">disable!(sampler, clock, when)</code></pre><p>Tell the sampler to forget a clock. We include the current simulation time because some Next Reaction methods use this to optimize sampling.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adolgert/CompetingClocks.jl/blob/f5047ffe3229e106a5dde63740a4fb205eeeec24/src/sample/interface.jl#L71-L76">source</a></section><section><div><pre><code class="language-julia hljs">disable!(dc::DirectCall, clock::T, when)</code></pre><p>Tell the <code>DirectCall</code> sampler to disable this clock. The <code>clock</code> argument is an identifier for the clock. The <code>when</code> argument is the time at which this clock is enabled.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adolgert/CompetingClocks.jl/blob/f5047ffe3229e106a5dde63740a4fb205eeeec24/src/sample/direct.jl#L77-L83">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CompetingClocks.next" href="#CompetingClocks.next"><code>CompetingClocks.next</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">next(sampler, when, rng)</code></pre><p>Ask the sampler for what happens next, in the form of <code>(when, which)::Tuple{TimeType,KeyType}</code>. <code>rng</code> is a random number generator.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adolgert/CompetingClocks.jl/blob/f5047ffe3229e106a5dde63740a4fb205eeeec24/src/sample/interface.jl#L81-L86">source</a></section><section><div><pre><code class="language-julia hljs">next(dc::DirectCall, when::TimeType, rng::AbstractRNG)</code></pre><p>Ask the sampler what clock will be the next to fire and at what time. This does not change the sampler. You can call this multiple times and get multiple answers. Each answer is a tuple of <code>(when, which clock)</code>. If there is no clock to fire, then the response will be <code>(Inf, nothing)</code>. That&#39;s a good sign the simulation is done.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adolgert/CompetingClocks.jl/blob/f5047ffe3229e106a5dde63740a4fb205eeeec24/src/sample/direct.jl#L89-L97">source</a></section><section><div><pre><code class="language-julia hljs">next(multiple_direct, when, rng)</code></pre><p>Selects the next transition to fire and when it fires.</p><p>There are two main algorithms for this selection. This implementation handles the case when there are a lot of clocks or when some clocks have much smaller hazards. It first draws a random number to choose which subset of hazards will be used, and then it asks that subset to draw a random number to choose which particular hazard is used. When there are many hazards, it is possible that a random number generator will <em>never</em> choose a particular value because there is no guarantee that a random number generator covers every combination of bits. Using more draws decreases the likelihood of this problem.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adolgert/CompetingClocks.jl/blob/f5047ffe3229e106a5dde63740a4fb205eeeec24/src/sample/multiple_direct.jl#L87-L101">source</a></section><section><div><p>For the first reaction sampler, you can call next() multiple times and get different, valid, answers. That isn&#39;t the case here. When you call next() on a CombinedNextReaction sampler, it returns the key associated with the clock that fires and marks that clock as fired. Calling next() again would return a nonsensical value.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adolgert/CompetingClocks.jl/blob/f5047ffe3229e106a5dde63740a4fb205eeeec24/src/sample/combinednr.jl#L162-L168">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CompetingClocks.reset!" href="#CompetingClocks.reset!"><code>CompetingClocks.reset!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">reset!(sampler)</code></pre><p>After a sampler is used for a simulation run, it has internal state. This function resets that internal state to the initial value in preparation for another sample run.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adolgert/CompetingClocks.jl/blob/f5047ffe3229e106a5dde63740a4fb205eeeec24/src/sample/interface.jl#L46-L52">source</a></section><section><div><pre><code class="language-julia hljs">reset!(recorder::CommonRandomRecorder)</code></pre><p>The common random recorder records the state of the random number generator for each clock, but the same clock can be enabled multiple times in one simulation, so it records the generator state for each (clock, index of the enabling of that clock). The <code>reset!</code> function says we are starting a new simulation run, so all clocks haven&#39;t been seen.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adolgert/CompetingClocks.jl/blob/f5047ffe3229e106a5dde63740a4fb205eeeec24/src/sample/common_random.jl#L63-L71">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.copy!" href="#Base.copy!"><code>Base.copy!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">copy!(destination_sampler, source_sampler)</code></pre><p>This copies the state of the source sampler to the destination sampler, replacing the current state of the destination sampler. This is useful for splitting techniques where you make copies of a simulation and restart it with different random number generators.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adolgert/CompetingClocks.jl/blob/f5047ffe3229e106a5dde63740a4fb205eeeec24/src/sample/interface.jl#L58-L65">source</a></section></article><h2 id="Query-a-Sampler"><a class="docs-heading-anchor" href="#Query-a-Sampler">Query a Sampler</a><a id="Query-a-Sampler-1"></a><a class="docs-heading-anchor-permalink" href="#Query-a-Sampler" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.getindex" href="#Base.getindex"><code>Base.getindex</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">getindex(sampler, clock::KeyType)</code></pre><p>Return stored state for a particular clock. If the clock does not exist, a <code>KeyError</code> will be thrown.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adolgert/CompetingClocks.jl/blob/f5047ffe3229e106a5dde63740a4fb205eeeec24/src/sample/interface.jl#L92-L97">source</a></section><section><div><pre><code class="language-julia hljs">getindex(sampler::FirstReaction{K,T}, clock::K)</code></pre><p>For the <code>FirstReaction</code> sampler, returns the distribution object associated to the clock.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adolgert/CompetingClocks.jl/blob/f5047ffe3229e106a5dde63740a4fb205eeeec24/src/sample/firstreaction.jl#L62-L66">source</a></section><section><div><pre><code class="language-julia hljs">getindex(sampler::FirstToFire{K,T}, clock::K)</code></pre><p>For the <code>FirstToFire</code> sampler, returns the stored firing time associated to the clock.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adolgert/CompetingClocks.jl/blob/f5047ffe3229e106a5dde63740a4fb205eeeec24/src/sample/firsttofire.jl#L79-L83">source</a></section><section><div><pre><code class="language-julia hljs">getindex(sampler::DirectCall{K,T}, clock::K)</code></pre><p>For the <code>DirectCall</code> sampler, returns the rate parameter associated to the clock.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adolgert/CompetingClocks.jl/blob/f5047ffe3229e106a5dde63740a4fb205eeeec24/src/sample/direct.jl#L109-L113">source</a></section><section><div><pre><code class="language-julia hljs">getindex(sampler::CombinedNextReaction{K,T}, clock::K)</code></pre><p>For the <code>CombinedNextReaction</code> sampler, returns the stored firing time associated to the clock.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adolgert/CompetingClocks.jl/blob/f5047ffe3229e106a5dde63740a4fb205eeeec24/src/sample/combinednr.jl#L352-L356">source</a></section><section><div><pre><code class="language-julia hljs">getindex(sampler::Petri{K,T}, clock::K)</code></pre><p>For the <code>Petri</code> sampler, returns the <code>EnablingEntry</code> time associated to the clock.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adolgert/CompetingClocks.jl/blob/f5047ffe3229e106a5dde63740a4fb205eeeec24/src/sample/petri.jl#L39-L43">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.keys" href="#Base.keys"><code>Base.keys</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">keys(sampler)</code></pre><p>Return all stored clocks as a vector.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adolgert/CompetingClocks.jl/blob/f5047ffe3229e106a5dde63740a4fb205eeeec24/src/sample/interface.jl#L103-L107">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.keytype" href="#Base.keytype"><code>Base.keytype</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">keytype(sampler)</code></pre><p>Return the type of clock keys.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adolgert/CompetingClocks.jl/blob/f5047ffe3229e106a5dde63740a4fb205eeeec24/src/sample/interface.jl#L123-L127">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CompetingClocks.timetype" href="#CompetingClocks.timetype"><code>CompetingClocks.timetype</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">timetype(sampler)</code></pre><p>Return the type of clock times.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adolgert/CompetingClocks.jl/blob/f5047ffe3229e106a5dde63740a4fb205eeeec24/src/sample/interface.jl#L130-L134">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.length" href="#Base.length"><code>Base.length</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">length(sampler)::Int64</code></pre><p>Return the number of stored clocks.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adolgert/CompetingClocks.jl/blob/f5047ffe3229e106a5dde63740a4fb205eeeec24/src/sample/interface.jl#L113-L117">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../reliability/">« Reliability</a><a class="docs-footer-nextpage" href="../reference/">Samplers »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Sunday 24 August 2025 18:37">Sunday 24 August 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
