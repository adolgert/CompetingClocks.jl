<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Objects in CompetingClocks · CompetingClocks.jl</title><meta name="title" content="Objects in CompetingClocks · CompetingClocks.jl"/><meta property="og:title" content="Objects in CompetingClocks · CompetingClocks.jl"/><meta property="twitter:title" content="Objects in CompetingClocks · CompetingClocks.jl"/><meta name="description" content="Documentation for CompetingClocks.jl."/><meta property="og:description" content="Documentation for CompetingClocks.jl."/><meta property="twitter:description" content="Documentation for CompetingClocks.jl."/><meta property="og:url" content="https://adolgert.github.io/CompetingClocks.jl/objects/"/><meta property="twitter:url" content="https://adolgert.github.io/CompetingClocks.jl/objects/"/><link rel="canonical" href="https://adolgert.github.io/CompetingClocks.jl/objects/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">CompetingClocks.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Guide</span><ul><li><a class="tocitem" href="../guide/">Competing Clocks</a></li><li><a class="tocitem" href="../mainloop/">Sample Main Loop</a></li><li><a class="tocitem" href="../distributions/">Non-exponential Simulation</a></li></ul></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../distrib/">Notation for Distributions</a></li><li><a class="tocitem" href="../background/">Markov Processes</a></li><li><a class="tocitem" href="../gsmp/">GSMP</a></li><li><a class="tocitem" href="../samplers/">Understanding Samplers</a></li><li><a class="tocitem" href="../hierarchical/">Hierarchical Samplers</a></li><li><a class="tocitem" href="../memory/">Transitions with Memory</a></li><li><a class="tocitem" href="../commonrandom/">Common Random Numbers</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../constant_birth/">Birth-death Process</a></li><li><a class="tocitem" href="../sir/">SIR Model</a></li><li><a class="tocitem" href="../reliability/">Reliability</a></li></ul></li><li><span class="tocitem">Reference</span><ul><li><a class="tocitem" href="../interface/">Interface</a></li><li><a class="tocitem" href="../reference/">Samplers</a></li><li><a class="tocitem" href="../algorithms/">Algorithms</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Objects in CompetingClocks</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Objects in CompetingClocks</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/adolgert/CompetingClocks.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/adolgert/CompetingClocks.jl/blob/main/docs/src/objects.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Objects-in-CompetingClocks"><a class="docs-heading-anchor" href="#Objects-in-CompetingClocks">Objects in CompetingClocks</a><a id="Objects-in-CompetingClocks-1"></a><a class="docs-heading-anchor-permalink" href="#Objects-in-CompetingClocks" title="Permalink"></a></h1><p>This describes the kinds of objects in CompetingClocks in order to explain how they work together.</p><h2 id="Distribution"><a class="docs-heading-anchor" href="#Distribution">Distribution</a><a id="Distribution-1"></a><a class="docs-heading-anchor-permalink" href="#Distribution" title="Permalink"></a></h2><p>At the heart of simulations are probability distributions. When this code refers to a distribution, it means a <a href="https://en.wikipedia.org/wiki/Probability_distribution">probability distribution function</a> in time. When we <em>sample</em> a distribution, we randomly draw a time at which an event will happen.</p><p>Let&#39;s take a Gamma distribution as an example. For the Gamma distribution, the probability distribution function, as you see it in <a href="https://en.wikipedia.org/wiki/Gamma_distribution">Wikipedia&#39;s description</a>,</p><p><span>$f(x) = \frac{\beta^\alpha}{\Gamma(\alpha)}x^{\alpha - 1}e^{-\beta x}$</span></p><p>For a simulation, we think of the distribution as being over time, and it&#39;s over the time since it was first possible for the event to happen, called <span>$t_e$</span>. We can write the Gamma distribution for <span>$t-t_e$</span>.</p><p><span>$f(t-t_e) = \frac{\beta^\alpha}{\Gamma(\alpha)}(t-t_e)^{\alpha - 1}e^{-\beta (t-t_e)}$</span></p><p>In Julia, the <a href="https://juliastats.org/Distributions.jl/stable/univariate/">univariate distributions</a> don&#39;t carry their enabling time as a parameter, so we store it separately.</p><h2 id="Competing-Clocks"><a class="docs-heading-anchor" href="#Competing-Clocks">Competing Clocks</a><a id="Competing-Clocks-1"></a><a class="docs-heading-anchor-permalink" href="#Competing-Clocks" title="Permalink"></a></h2><p>Let&#39;s say you make a simulation of rabbits eating kibble. A rabbit just picked up a piece of kibble, and the simulation decides there is a Gamma-distributed time at which it will be ready to eat the next bit of kibble. Meanwhile, another rabbit eats the last bit of kibble. That makes it impossible for the first rabbit to eat any kibble, so we say that its event is interrupted. That interruption was a result of the rabbits competing, but what the simulation sees is distributions competing to fire first, and we call them competing clocks.</p><p>We have a small naming problem because, while simulations use distributions in time, they sometimes turn them on or off. This combination of a known distribution (such as an Exponential or Gamma distribution) and the ability to temporarily pause it creates its own probability distribution, which we call a clock.</p><p>For example, let&#39;s make a model of a random walker on a chessboard. Given that the walker is at a grid location, <span>$(i, j)$</span>, that walker can move to one of four directions, <span>$(i-1, j)$</span>, <span>$(i+1, j)$</span>, <span>$(i, j-1)$</span>, or <span>$(i, j+1)$</span>. In order to simulate this, we might choose four Exponential distributions, one for each direction. When the walker reaches the side of the chessboard, it doesn&#39;t make sense to let it walk off the chessboard, so, at that moment, the simulation <em>disables</em> the ability to walk left. There is an Exponential distribution associated with walking left, but its <a href="https://en.wikipedia.org/wiki/Failure_rate#Failure_rate_in_the_continuous_sense">hazard rate</a> will be zero while the piece is at the side of the chessboard. The simulation considers &quot;move left&quot; a clock with an Exponential distribution whose firing is disabled.</p><h2 id="Sampler"><a class="docs-heading-anchor" href="#Sampler">Sampler</a><a id="Sampler-1"></a><a class="docs-heading-anchor-permalink" href="#Sampler" title="Permalink"></a></h2><p>The main responsibility of CompetingClocks.jl is to provide samplers of competing clocks. Given a list of enabled distributions, decide which one is next to fire and when it will fire.</p><p>In order to decide which clock fires next, a sampler needs some information.</p><h3 id="Initialization"><a class="docs-heading-anchor" href="#Initialization">Initialization</a><a id="Initialization-1"></a><a class="docs-heading-anchor-permalink" href="#Initialization" title="Permalink"></a></h3><p>The sampler may have a constructor to configure its memory usage or other resources.</p><h3 id="Update-Clock-State"><a class="docs-heading-anchor" href="#Update-Clock-State">Update Clock State</a><a id="Update-Clock-State-1"></a><a class="docs-heading-anchor-permalink" href="#Update-Clock-State" title="Permalink"></a></h3><p>For a continuous-time simulation, each event happens at a distinct time. Right after an event happens, the simulation is changed, and there are three possible ways clocks are affected.</p><ol><li><p>A clock may be disabled. For instance, if the event was crashing a car, you can no longer crash a crashed car.</p></li><li><p>A clock may be enabled. For instance, once a person is infected, they can now infect all neighboring people.</p></li><li><p>The rate of a clock may change. We discussed moves on a chessboard earlier. Maybe there&#39;s now a breeze so that the rate to move right is greater than the rate to move left. The Exponential distributions would change accordingly.</p></li></ol></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.4.1 on <span class="colophon-date" title="Wednesday 29 May 2024 16:42">Wednesday 29 May 2024</span>. Using Julia version 1.10.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
