<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Algorithms · CompetingClocks.jl Documentation</title><meta name="title" content="Algorithms · CompetingClocks.jl Documentation"/><meta property="og:title" content="Algorithms · CompetingClocks.jl Documentation"/><meta property="twitter:title" content="Algorithms · CompetingClocks.jl Documentation"/><meta name="description" content="Documentation for CompetingClocks.jl Documentation."/><meta property="og:description" content="Documentation for CompetingClocks.jl Documentation."/><meta property="twitter:description" content="Documentation for CompetingClocks.jl Documentation."/><meta property="og:url" content="https://adolgert.github.io/CompetingClocks.jl/algorithms/"/><meta property="twitter:url" content="https://adolgert.github.io/CompetingClocks.jl/algorithms/"/><link rel="canonical" href="https://adolgert.github.io/CompetingClocks.jl/algorithms/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">CompetingClocks.jl Documentation</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../install/">Installation</a></li><li><a class="tocitem" href="../quickstart/">Quickstart</a></li><li><a class="tocitem" href="../mainloop/">Sample Main Loop</a></li><li><a class="tocitem" href="../choosing_sampler/">Choosing a Sampler</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../integration-guide/">Integration Guide</a></li><li><a class="tocitem" href="../low_level_interface/">Low-level Sampler Interface</a></li><li><a class="tocitem" href="../samplers/">Understanding Samplers</a></li><li><a class="tocitem" href="../guide/">Competing Clocks</a></li><li><a class="tocitem" href="../distributions/">Non-exponential Simulation</a></li><li><a class="tocitem" href="../hierarchical/">Hierarchical Samplers</a></li><li><a class="tocitem" href="../debugging/">Debugging a Simulation that Uses CompetingClocks</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../reliability/">Reliability</a></li><li><a class="tocitem" href="../sir/">SIR Model</a></li><li><a class="tocitem" href="../constant_birth/">Birth-death Process</a></li><li><a class="tocitem" href="../memory/">Transitions with Memory</a></li><li><a class="tocitem" href="../gene_expression/">Gene Expression</a></li></ul></li><li><span class="tocitem">Statistical Methods</span><ul><li><a class="tocitem" href="../commonrandom/">Common Random Numbers</a></li><li><a class="tocitem" href="../importance_skills/">Importance Sampling for Simulation</a></li><li><a class="tocitem" href="../hamiltonianmontecarlo/">Hamiltonian Monte Carlo</a></li><li><input class="collapse-toggle" id="menuitem-5-4" type="checkbox"/><label class="tocitem" for="menuitem-5-4"><span class="docs-label">Gen.jl Integration</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../gen/overview/">Gen.jl and CompetingClocks.jl</a></li><li><a class="tocitem" href="../gen/distribution/">CompetingClocks as a Gen Distribution</a></li><li><a class="tocitem" href="../gen/generative_function/">CompetingClocks as a Gen Generative Function</a></li><li><a class="tocitem" href="../gen/observation_likelihood/">Observation Likelihood for Event Data</a></li><li><a class="tocitem" href="../gen/importance_mixture/">Importance Sampling with Mixture Proposals</a></li><li><a class="tocitem" href="../gen/hmc_paths/">HMC over Event Paths with Gen.jl</a></li></ul></li><li><a class="tocitem" href="../gen/turing_dist/">Bayesian Inference with Turing.jl</a></li><li><a class="tocitem" href="../gen/survival_snippet/">Integration with Survival.jl</a></li></ul></li><li><span class="tocitem">API Reference</span><ul><li><a class="tocitem" href="../contextinterface/">Context Interface</a></li><li><a class="tocitem" href="../reference/">Samplers</a></li><li class="is-active"><a class="tocitem" href>Algorithms</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">API Reference</a></li><li class="is-active"><a href>Algorithms</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Algorithms</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/adolgert/CompetingClocks.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/adolgert/CompetingClocks.jl/blob/main/docs/src/algorithms.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Algorithms"><a class="docs-heading-anchor" href="#Algorithms">Algorithms</a><a id="Algorithms-1"></a><a class="docs-heading-anchor-permalink" href="#Algorithms" title="Permalink"></a></h1><p>Many samplers depend on data structures to allow efficient querying of clocks ordered with respect to some value, usually the firing time. These types and methods implement them for CompetingClocks.</p><article><details class="docstring" open="true"><summary id="CompetingClocks.CumSumPrefixSearch"><a class="docstring-binding" href="#CompetingClocks.CumSumPrefixSearch"><code>CompetingClocks.CumSumPrefixSearch</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">CumSumPrefixSearch{T}()</code></pre><p>This stores hazard rates in order to make it easier for the Direct method to sample them. This version is the simplest possible, but it can be faster when there are few hazards enabled. It uses a simple array and, each time the Direct method samples, this evaluates the cumulative sum of the array.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adolgert/CompetingClocks.jl/blob/1c9af5b4e3050ce3269584f87c01ad0b57a0dc05/src/prefixsearch/cumsumprefixsearch.jl#L6-L14">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CompetingClocks.BinaryTreePrefixSearch"><a class="docstring-binding" href="#CompetingClocks.BinaryTreePrefixSearch"><code>CompetingClocks.BinaryTreePrefixSearch</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">BinaryTreePrefixSearch{T}(N=32)</code></pre><p>This stores hazard rates to make them faster for the Direct method to sample. This is a binary tree where the leaves are values and the nodes are sums of those values. It is meant to make it easier to find the leaf such that the sum of it and all previous leaves is greater than a given value.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adolgert/CompetingClocks.jl/blob/1c9af5b4e3050ce3269584f87c01ad0b57a0dc05/src/prefixsearch/binarytreeprefixsearch.jl#L6-L14">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CompetingClocks.KeyedKeepPrefixSearch"><a class="docstring-binding" href="#CompetingClocks.KeyedKeepPrefixSearch"><code>CompetingClocks.KeyedKeepPrefixSearch</code></a> — <span class="docstring-category">Type</span></summary><section><div><p>This decorator turns a Prefix Search algorithm into one that works for arbitrary keys. This version only adds entries, so disabling a clock sets its hazard to zero without removing it. If a simulation re-enables the same set of clocks, this is the faster choice.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adolgert/CompetingClocks.jl/blob/1c9af5b4e3050ce3269584f87c01ad0b57a0dc05/src/prefixsearch/keyedprefixsearch.jl#L7-L12">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CompetingClocks.KeyedRemovalPrefixSearch"><a class="docstring-binding" href="#CompetingClocks.KeyedRemovalPrefixSearch"><code>CompetingClocks.KeyedRemovalPrefixSearch</code></a> — <span class="docstring-category">Type</span></summary><section><div><p>This decorator turns a Prefix Search algorithm into one that works for arbitrary keys. This version reuses entries in the prefix search after their clocks have been disabled. If the simulation moves through a large key space, this will use less memory.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adolgert/CompetingClocks.jl/blob/1c9af5b4e3050ce3269584f87c01ad0b57a0dc05/src/prefixsearch/keyedprefixsearch.jl#L128-L133">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CompetingClocks.choose"><a class="docstring-binding" href="#CompetingClocks.choose"><code>CompetingClocks.choose</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">choose(pst::BinaryTreePrefixSearch, value)</code></pre><p>Find the minimum index such that the prefix is greater than the given value.</p><p>Precondition: The value must be strictly less than the total for the tree.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adolgert/CompetingClocks.jl/blob/1c9af5b4e3050ce3269584f87c01ad0b57a0dc05/src/prefixsearch/binarytreeprefixsearch.jl#L101-L109">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Base.setindex!"><a class="docstring-binding" href="#Base.setindex!"><code>Base.setindex!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">setindex!(A, X, inds...)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adolgert/CompetingClocks.jl/blob/1c9af5b4e3050ce3269584f87c01ad0b57a0dc05/src/prefixsearch/binarytreeprefixsearch.jl#L171-L173">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Base.rand"><a class="docstring-binding" href="#Base.rand"><code>Base.rand</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">rand(rng, sampler::SamplerTrivial{BinaryTreePrefixSearch})</code></pre><p>This method overload allows the machinery of Random to generate random variates from the BinaryTreePrefixSearch set of values.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adolgert/CompetingClocks.jl/blob/1c9af5b4e3050ce3269584f87c01ad0b57a0dc05/src/prefixsearch/binarytreeprefixsearch.jl#L193-L198">source</a></section><section><div><pre><code class="language-julia hljs">rand(rng, sampler::SamplerTrivial{CumSumPrefixSearch})</code></pre><p>This method overload allows the machinery of Random to generate random variates from the CumSumPrefixSearch set of values.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adolgert/CompetingClocks.jl/blob/1c9af5b4e3050ce3269584f87c01ad0b57a0dc05/src/prefixsearch/cumsumprefixsearch.jl#L75-L80">source</a></section><section><div><p>Drawing a random number from a left-truncated exponential is particularly simple.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adolgert/CompetingClocks.jl/blob/1c9af5b4e3050ce3269584f87c01ad0b57a0dc05/src/distributions/lefttrunc.jl#L9-L11">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CompetingClocks.set_multiple!"><a class="docstring-binding" href="#CompetingClocks.set_multiple!"><code>CompetingClocks.set_multiple!</code></a> — <span class="docstring-category">Function</span></summary><section><div><p>If there are multiple values to enter, then present them at once as pairs of tuples, (index, value).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adolgert/CompetingClocks.jl/blob/1c9af5b4e3050ce3269584f87c01ad0b57a0dc05/src/prefixsearch/binarytreeprefixsearch.jl#L132-L135">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CompetingClocks.SetOfSets"><a class="docstring-binding" href="#CompetingClocks.SetOfSets"><code>CompetingClocks.SetOfSets</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">SetOfSets{K,T&lt;:AbstractSet{K}} &lt;: AbstractSet{K}</code></pre><p>A <code>SetOfSets</code> presents sets as a read-only unified set. The goal is to reduce memory allocation by not presuming the client wants an instance of a Set object or an instance of a Vector object. They may want to test is something is <code>in</code> the sets or want to merge with another set.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adolgert/CompetingClocks.jl/blob/1c9af5b4e3050ce3269584f87c01ad0b57a0dc05/src/setofsets.jl#L3-L10">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CompetingClocks.PrefixEnabled"><a class="docstring-binding" href="#CompetingClocks.PrefixEnabled"><code>CompetingClocks.PrefixEnabled</code></a> — <span class="docstring-category">Type</span></summary><section><div><p>Construct a set that checks which values are zeroed out because this prefix sum doesn&#39;t mark what has been deleted. That&#39;s faster for small sets of keys but makes getting the set that&#39;s enabled more difficult. A hazard rate that is set to zero at enabling will give a funny count because it&#39;s <code>enabled!()</code> by the user but set to never fire.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adolgert/CompetingClocks.jl/blob/1c9af5b4e3050ce3269584f87c01ad0b57a0dc05/src/prefixsearch/keyedprefixsearch.jl#L64-L70">source</a></section></details></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../reference/">« Samplers</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Friday 28 November 2025 16:58">Friday 28 November 2025</span>. Using Julia version 1.12.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
